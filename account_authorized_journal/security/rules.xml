<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <!-- Reglas para account.journal -->
        <record id="rule_journal_leer_todos" model="ir.rule">
            <field name="name">Lectura de todos los diarios</field>
            <field name="model_id" ref="account.model_account_journal"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="groups" eval="[(4, ref('account_authorized_journal.group_journal_alls'))]"/>
        </record>

        <record id="rule_journal_crear_editar_permitidos" model="ir.rule">
            <field name="name">Diarios permitidos</field>
            <field name="model_id" ref="account.model_account_journal"/>
            <field name="domain_force">(user.account_journal_ids and ('group_ids', 'in', user.groups_id.ids)) and [('id', 'in', user.account_journal_ids.ids)] or [(1,'=',1)]</field>
            <!--<field name="domain_force">[('allowed_for_user', '=', True)]</field>-->
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="groups" eval="[(4, ref('account_authorized_journal.group_journal_limits'))]"/>
        </record>

        <!-- Reglas para account.move -->
        <record id="rule_move_leer_todos" model="ir.rule">
            <field name="name">Lectura de todos los asientos</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="groups" eval="[(4, ref('account_authorized_journal.group_journal_alls'))]"/>
        </record>

        <record id="rule_move_crear_editar_eliminar_permitidos" model="ir.rule">
            <field name="name">Asientos permitidos</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="domain_force">(user.account_journal_ids and ('group_ids', 'in', user.groups_id.ids)) and [('journal_id', 'in', user.account_journal_ids.ids)] or [(1,'=',1)]</field>
            <!--<field name="domain_force">[('allowed_journal', '=', True)]</field>-->
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="groups" eval="[(4, ref('account_authorized_journal.group_journal_limits'))]"/>
        </record>

        <!-- Reglas para account.payment -->
        <record id="rule_payment_leer_todos" model="ir.rule">
            <field name="name">Lectura de todos los pagos</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="groups" eval="[(4, ref('account_authorized_journal.group_journal_alls'))]"/>
        </record>

        <record id="rule_payment_crear_editar_eliminar_permitidos" model="ir.rule">
            <field name="name">Pagos de diarios permitidos</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="domain_force">(user.account_journal_ids and ('group_ids', 'in', user.groups_id.ids)) and [('journal_id', 'in', user.account_journal_ids.ids)] or [(1,'=',1)]</field>
            <!--<field name="domain_force">[('allowed_journal', '=', True)]</field>-->
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="groups" eval="[(4, ref('account_authorized_journal.group_journal_limits'))]"/>
        </record>
    </data>
</odoo>